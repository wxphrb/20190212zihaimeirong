<?phpnamespace app\index\controller;use think\Db;use think\Request;use think\Url;use app\index\model\Nav as ThisModel;class Nav extends Base{	public $arr_type=[];    /**	 * [index description]列表	 * @return [type] [description]	 */	public function index(ThisModel $nav)	{        $where = array();        $where = ['status'=>1,'hot_state'=>1];        $res  = $nav->where($where)->order('id desc')->paginate(30);        $res  = json_decode(json_encode($res),true);        $data = $res['data'];		$url = request()->domain().Request::instance()->url();		$this->assign('url',$url);		$this->assign('share_title', '宝泉岭尊业汽车 - 新闻中心');        foreach($data as &$v){            $v['description'] = wxp_substr(25,$v['description']);        }		return $this->fetch('index', [            'data'       => $data        ]);	}    public function show($id){       $data =  ThisModel::get($id);       $this->assign('data',$data);	   $url = request()->domain().Request::instance()->url();		$this->assign('url',$url);		$this->assign('share_desc',$data['title']);		if(!empty($data['picurl'])){			$share_img = request()->domain().$data['picurl'];			$this->assign('share_img', $share_img);		}		       return $this->fetch();    }}